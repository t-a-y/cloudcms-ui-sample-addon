/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

define("css!sample/gadgets/sample-products-list/sample-products-list",[],function(){}),define("text",["module"],function(e){"use strict";var t,n,i,o,r,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,l=d&&location.protocol&&location.protocol.replace(/\:/,""),u=d&&location.hostname,p=d&&(location.port||void 0),f={},m=e.config&&e.config()||{};return t={version:"2.0.14",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=a[t];try{e=new ActiveXObject(n)}catch(i){}if(e){a=[n];break}}return e},parseName:function(e){var t,n,i,o=!1,r=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==r&&(!a||r>1)?(t=e.substring(0,r),n=e.substring(r+1)):t=e,i=n||t,r=i.indexOf("!"),-1!==r&&(o="strip"===i.substring(r+1),i=i.substring(0,r),n?n=i:t=i),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var r,a,s,c=t.xdRegExp.exec(e);return c?(r=c[2],a=c[3],a=a.split(":"),s=a[1],a=a[0],!(r&&r!==n||a&&a.toLowerCase()!==i.toLowerCase()||(s||a)&&s!==o)):!0},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,m.isBuild&&(f[e]=i),o(i)},load:function(e,n,i,o){if(o&&o.isBuild&&!o.inlineText)return void i();m.isBuild=o&&o.isBuild;var r=t.parseName(e),a=r.moduleName+(r.ext?"."+r.ext:""),s=n.toUrl(a),c=m.useXhr||t.useXhr;return 0===s.indexOf("empty:")?void i():void(!d||c(s,l,u,p)?t.get(s,function(n){t.finishLoad(e,r.strip,n,i)},function(e){i.error&&i.error(e)}):n([a],function(e){t.finishLoad(r.moduleName+"."+r.ext,r.strip,e,i)}))},write:function(e,n,i,o){if(f.hasOwnProperty(n)){var r=t.jsEscape(f[n]);i.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,i,o,r){var a=t.parseName(n),s=a.ext?"."+a.ext:"",c=a.moduleName+s,d=i.toUrl(a.moduleName+s)+".js";t.load(c,i,function(n){var i=function(e){return o(d,e)};i.asModule=function(e,t){return o.asModule(e,d,t)},t.write(e,c,i,r)},r)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var o=n.readFileSync(e,"utf8");"\ufeff"===o[0]&&(o=o.substring(1)),t(o)}catch(r){i&&i(r)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,n,i,o){var r,a=t.createXhr();if(a.open("GET",e,!0),o)for(r in o)o.hasOwnProperty(r)&&a.setRequestHeader(r.toLowerCase(),o[r]);m.onXhr&&m.onXhr(a,e),a.onreadystatechange=function(t){var o,r;4===a.readyState&&(o=a.status||0,o>399&&600>o?(r=new Error(e+" HTTP status: "+o),r.xhr=a,i&&i(r)):n(a.responseText),m.onXhrComplete&&m.onXhrComplete(a,e))},a.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,o="utf-8",r=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),o)),c="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(a),n.append(i);c=String(n.toString())}finally{s.close()}t(c)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,a,s,c={};r&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(s,1,0,!1),a=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),a.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(n.available(),c),a.close(),n.close(),t(c.value)}catch(d){throw new Error((s&&s.path||"")+": "+d)}}),t}),define("text!sample/gadgets/sample-products-list/sample-products-list.html",[],function(){return'{{#each products}}\n<div class="media">\n    <div class="media-left">\n        <a href="#" class="media-popup" data-media-index="{{@index}}">\n            <img class="media-object" src="{{imageUrl128}}" alt="{{title}}">\n        </a>\n    </div>\n    <div class="media-body">\n        <h4 class="media-heading">\n            <a href="{{browseUrl}}">{{title}}</a>\n        </h4>\n        {{description}}\n    </div>\n</div>\n{{/each}}'}),define("sample/gadgets/sample-products-list/sample-products-list.js",["require","exports","module","css!./sample-products-list.css","text!./sample-products-list.html","ratchet/dynamic/empty","ui"],function(e,t,n){e("css!./sample-products-list.css");var i=e("text!./sample-products-list.html"),o=e("ratchet/dynamic/empty"),r=e("ui");return r.registerGadget("sample-products-list",o.extend({TEMPLATE:i,setup:function(){this.get("/projects/{projectId}/products",this.index)},prepareModel:function(e,t,n){var i=this.observable("project").get(),o=this.observable("branch").get();this.base(e,t,function(){o.queryNodes({_type:"catalog:product"}).then(function(){t.products=this.asArray();for(var e=0;e<t.products.length;e++){var o=t.products[e];o.imageUrl256="/preview/repository/"+o.getRepositoryId()+"/branch/"+o.getBranchId()+"/node/"+o.getId()+"/default?size=256&name=preview256&force=true",o.imageUrl128="/preview/repository/"+o.getRepositoryId()+"/branch/"+o.getBranchId()+"/node/"+o.getId()+"/default?size=128&name=preview128&force=true",o.browseUrl="/#/projects/"+i._doc+"/documents/"+o._doc}n()})})},afterSwap:function(e,t,n,i){this.base(e,t,n,function(){$(e).find(".media-popup").click(function(e){e.preventDefault();var n=$(this).attr("data-media-index"),i=t.products[n];r.showPopupModal({title:"Viewing: "+i.title,body:"<div style='text-align:center'><img src='"+i.imageUrl+"'></div>"})}),i()})}}))}),define("text!sample/gadgets/sample-random-product-dashlet/sample-random-product-dashlet.html",[],function(){return'<div>\n\n    <div style="text-align:center">\n\n        <p>{{product.title}}</p>\n\n        <a href="/#/projects/{{project._doc}}/documents/{{product._doc}}">\n            <img src="{{product.imageUrl}}" alt="{{product.title}}">\n        </a>\n\n    </div>\n\n</div>\n'}),define("css!sample/gadgets/sample-random-product-dashlet/sample-random-product-dashlet",[],function(){}),define("sample/gadgets/sample-random-product-dashlet/sample-random-product-dashlet.js",["require","exports","module","text!./sample-random-product-dashlet.html","css!./sample-random-product-dashlet.css","ui"],function(e,t,n){var i=e("text!./sample-random-product-dashlet.html");e("css!./sample-random-product-dashlet.css");var o=e("ui");return o.registerDashlet("sample-random-product-dashlet",o.AbstractDashlet.extend({TEMPLATE:i,prepareModel:function(e,t,n){var i=this.observable("branch").get();this.base(e,t,function(){i.queryNodes({_type:"catalog:product"}).then(function(){var e=this.asArray(),i=t.product=e[Math.floor(Math.random()*e.length)];i.imageUrl="/preview/repository/"+i.getRepositoryId()+"/branch/"+i.getBranchId()+"/node/"+i.getId()+"/default?size=256&name=preview256",n()})})},afterSwap:function(e,t,n,i){this.base(e,t,n,function(){i()})}}))}),define("sample/gadgets/tay-project-dashboard/tay-content-instances.js",["require","exports","module"],function(e,t,n){var i=e("ratchet/web"),o=e("ratchet/dynamic/doclist"),r=e("oneteam");return i.Messages.using(),i.GadgetRegistry.register("tay-content-instances",o.extend({configureDefault:function(){this.base();var e={columnHeaders:!0,buttons:[{key:"create-content",title:"Create Content",iconClass:"fa fa-plus",align:"left",action:"create-content",allowPermission:["create"],category:"capabilities-check"}],navbox:!1,defaultFirstColumnAsId:!0,options:{filter:!0,paginate:!0,info:!0,sizing:!0,processing:!0},observables:{query:"content-instances-list_query",sort:"content-instances-list_sort",sortDirection:"content-instances-list_sortDirection",searchTerm:"content-instances-list_searchTerm",selectedItems:"content-instances-list_selectedItems",length:"length",optionsFilter:"optionsFilter",refresh:"refresh_content-instances_gadget132"},checkbox:!0,icon:!0,columns:[{key:"titleDescription",title:"Content Instance"}],loader:"gitana",lengthMenu:{values:[10,25,50,100,999999],labels:[10,25,50,100,"All"]},selectorGroups:{"multi-documents-action-selector-group":{actions:[{action:"delete-content",order:100,_allowPermission:["delete"]},{action:"edit-content",order:200,_allowPermission:["update"]},{action:"start-workflow",order:300,_allowAuthority:["collaborator","contributor","editor","manager"]}]},"single-document-action-selector-group":{actions:[]},"sort-selector-group":{fields:[{key:"title",title:"Title",field:"title"},{key:"description",title:"Description",field:"description"},{key:"createdOn",title:"Created On",field:"_system.created_on.ms"},{key:"createdBy",title:"Created By",field:"_system.created_by"},{key:"modifiedOn",title:"Modified On",field:"_system.modified_on.ms"},{key:"modifiedBy",title:"Modified By",field:"_system.modified_by"},{key:"type",title:"Type",field:"TYPE"},{key:"size",title:"Size",field:"size"}]},"options-filter":{options:[]}},chrome:!1,cssClasses:" content-instances",tokens:{projectId:"e1b5b4592c39d60bae02"},route:{method:"GET",uri:"/projects/e1b5b4592c39d60bae02/content"},uri:"/projects/e1b5b4592c39d60bae02/content",method:"GET",items:[],originalSelectorGroups:{"multi-documents-action-selector-group":{actions:[{action:"delete-content",order:100,_allowPermission:["delete"]},{action:"edit-content",order:200,_allowPermission:["update"]},{action:"start-workflow",order:300,_allowAuthority:["collaborator","contributor","editor","manager"]}]},"single-document-action-selector-group":{actions:[]},"sort-selector-group":{fields:[{key:"title",title:"Title",field:"title"},{key:"description",title:"Description",field:"description"},{key:"createdOn",title:"Created On",field:"_system.created_on.ms"},{key:"createdBy",title:"Created By",field:"_system.created_by"},{key:"modifiedOn",title:"Modified On",field:"_system.modified_on.ms"},{key:"modifiedBy",title:"Modified By",field:"_system.modified_by"},{key:"type",title:"Type",field:"TYPE"},{key:"size",title:"Size",field:"size"}]},"options-filter":{options:[]}}};this.config(e)},setup:function(){this.get("/projects/{projectId}/tay/content",this.index),this.get("/projects/{projectId}/tay/content/{qname}",this.index)},entityTypes:function(){return{plural:"content instances",singular:"content instance"}},beforeSwap:function(e,t,n){var i=this;this.base(e,t,function(){var t=i.refreshHandler(e);i.subscribe("selected-content-type",t),n()})},checkPermission:function(e,t,n,i){var o=this.base(e,t,n,i);if("capabilities-check"===i.category){o=!1;var r=e.observable("selected-content-type").get();r&&r.capabilities&&("create_subobjects"===n&&(n="create"),o=r.capabilities.contains(n))}return o},afterSwap:function(e,t,n,i){var o=this;this.base(e,t,n,function(){var e=o.observable("selected-content-type").get();e||$(".btn.list-button-create-content").hide(),i()})},doGitanaQuery:function(e,t,n,i,o,a){var s=this;s.observable("project").get(),r.isEmptyOrNonExistent(i)&&n&&(i=r.searchQuery(n,["title","description"])),i||(i={}),r.projectBranch(s,function(){var e=s.observable("selected-content-type").get();return e?(i._type=e.definition.getQName(),void this.queryNodes(i,o).then(function(){a(this)})):a(new Gitana.NodeMap(this))})},linkUri:function(e,t,n){var i=n.tokens.projectId;return"#/projects/"+i+"/documents/"+e._doc},iconUri:function(e,t,n){return r.iconUriForNode(e)},columnValue:function(e,t,n,i){var o=this,a=o.observable("project").get(),s=this.base(e,t);if("titleDescription"==t.key){var c=r.buildNodeSummary(e,!1,a);s=r.listTitleDescription(i,e,null,null,!1,c);var d="False";e.published&&(d="True"),s+="<div>Published : "+d+"</div>"}return s}}))}),define("text!sample/gadgets/tay-project-dashboard/content-types.html",[],function(){return'"<div class="content-types">\n    {{#if chrome}}\n    <div class="chrome chrome-header">\n        <div class="chrome-title">{{chrome.title}}</div>\n    </div>\n    <div class="chrome chrome-body">\n        {{/if}}\n\n        <nav class="navmenu navmenu-default navmenu-fixed-left offcanvas-sm" role="navigation">\n\n            {{#compare types.length 0}}\n            <div class="no-content-types">\n                There are no content types configured.\n                <br/>\n                <br/>\n                <a href="#/projects/{{projectId}}/definitions">Configure Content Types...</a>\n            </div>\n            {{/compare}}\n\n            {{#greaterThan types.length 0}}\n            <ul class="nav navmenu-nav">\n\n                <li class="header">\n                    <span>Content Types</span>\n                </li>\n\n                {{#each types}}\n                <li class="{{#if current}}active{{/if}} {{#if cssClass}}{{cssClass}}{{/if}}">\n                    <a href="/#/projects/{{../projectId}}/tay/content/{{qname}}" class="content-type-link" data-dispatch-uri="/projects/{{../projectId}}/tay/content/{{qname}}" title="{{title}}">\n                        <i class="icon {{#if iconClass}}{{iconClass}}{{else}}fa fa-angle-right{{/if}}"></i>\n                        <span>{{displayTitle}}</span>\n                    </a>\n                </li>\n                {{/each}}\n\n            </ul>\n            {{/greaterThan}}\n\n        </nav>\n\n\n        {{#if chrome}}\n    </div>\n    {{/if}}\n</div>'}),define("sample/gadgets/tay-project-dashboard/tay-entity-types.js",["require","exports","module","text!./content-types.html","ratchet/web","oneteam","ratchet/dynamic/empty"],function(e,t,n){var i=e("text!./content-types.html"),o=e("ratchet/web"),r=e("oneteam"),a=e("ratchet/dynamic/empty");return o.GadgetRegistry.register("tay-entity-types",a.extend({TEMPLATE:i,configureDefault:function(){this.base()},setup:function(){this.get("/projects/{projectId}/tay/content",this.index),this.get("/projects/{projectId}/tay/content/{qname}",this.index)},prepareModel:function(e,t,n){var i=this;this.base(e,t,function(){var e=i.observable("project").get();t.projectId=e.getId(),t.types=[],r.projectContentTypes(i,function(r,a){for(var s=[],c=0;c<r.length;c++){var d=r[c];d.definition.systemBootstrapped||("undefined"!=typeof d.capabilities?d.capabilities.indexOf("read")>-1?s.push(d):console.log("Filtering off: "+d+" because lacks READ capability"):s.push(d))}r=s,e.contentTypeSortByTitle&&r.sort(function(e,t){return e.title.localeCompare(t.title)}),e.contentTypesSortField&&r.sort(function(t,n){var i=o.resolveDotNotation(t.definition,e.contentTypesSortField)||"",r=o.resolveDotNotation(n.definition,e.contentTypesSortField)||"";return i.localeCompare(r)});for(var l=0;l<r.length;l++)r[l].displayTitle=r[l].title,e.contentTypesDisplayField&&(r[l].displayTitle=o.resolveDotNotation(r[l].definition,e.contentTypesDisplayField)||r[l].title);var u=t.tokens.qname;if(u){for(var p=null,c=0;c<r.length;c++)if(r[c].qname===u){p=r[c];break}p&&i.observable("selected-content-type").set(p)}var f=i.observable("selected-content-type").get();!f&&r&&r.length>0&&i.observable("selected-content-type").set(r[0]);var m=null,g=i.observable("selected-content-type").get();g&&(m=g.definition.getQName());for(var c=0;c<r.length;c++)g||(g=r[c],m=r[c].qname),m==r[c].qname&&(r[c].current=!0),t.types=r;n()})})},afterSwap:function(e,t,n,i){var o=this;this.base(e,t,n,function(){$(e).find("li.header").first().addClass("header-first"),o.observable("project").get(),$(e).find(".content-type-link").off().click(function(e){e.preventDefault();var t=$(this).attr("data-dispatch-uri");o.topRatchet().run(t)}),i()})}}))}),define("sample/actions/sample/create-sample-space.js",["require","exports","module","ui","content-helpers"],function(e,t,n){var i=e("ui"),o=e("content-helpers");return i.registerAction("create-sample-space",i.AbstractUIAction.extend({defaultConfiguration:function(){var e=this.base();return e.title="Create Sample Space",e.iconClass="fa fa-plus",e},prepareAction:function(e,t,n){e.currentPath=e.observable("path").get(),n()},executeAction:function(e,t,n){var o=this,r={data:{title:"My Sample Space",description:"Description of my sample space"},schema:{type:"object",properties:{title:{type:"string",required:!0},description:{type:"string"}}},options:{fields:{title:{type:"text",label:"Title"},description:{type:"textarea",label:"Description"}},focus:"title"}};i.renderForm(r,function(n){i.showModal({title:t.title,form:n,buttons:[{id:"create",title:"Create",handler:function(t){i.showWaitModal("Creating the sample space...",function(){o.createHandler(e,n.getValue(),function(){i.hideWaitModal()})})}}],bindFormEnterKeyToButton:"create",cancel:!0},function(e){})})},createHandler:function(e,t,n){o.addContent(e,[{type:"folder",properties:t,parentFolderPath:e.currentPath},{type:"folder",properties:{title:"Files"},parentFolderPath:e.currentPath+"/"+t.title},{type:"file",properties:{title:"helloworld.txt"},parentFolderPath:e.currentPath+"/"+t.title+"/Files",text:"Hello World!"}],function(e){n()})}}))}),define("sample/fields/sample-city-picker.js",["require","exports","module","ui","alpaca","jquery"],function(e,t,n){var i=e("ui"),o=e("alpaca"),r=e("jquery");return i.registerField("sample-city-picker",o.Fields.SelectField.extend({setup:function(){this.base(),this.options.dataSource=function(e){r.ajax({method:"GET",url:"https://raw.githubusercontent.com/gitana/cloudcms-ui-sample-addon/master/data/cities.json",dataType:"json"}).done(function(t){e(t.cities)})}}}))}),define("sample/fields/sample-content-picker.js",["require","exports","module","ui","alpaca"],function(e,t,n){var i=e("ui"),o=e("alpaca");return i.registerField("sample-content-picker",o.Fields.SelectField.extend({setup:function(){this.base(),this.options.contentType||(this.options.contentType="catalog:product"),this.options.dataSource={connector:!0,config:{query:{_type:this.options.contentType},mappings:{value:"_doc",text:"title"}}}}}))}),define("sample/gadgets/sample-product-document-properties/sample-product-document-properties.js",["require","exports","module","app/gadgets/project/document/view/document-properties","ui"],function(e,t,n){var i=e("app/gadgets/project/document/view/document-properties"),o=e("ui");return o.registerGadget("sample-product-document-properties",i.extend({determinePropertyDisplaySettings:function(e,t){return"catalog:product"===e.getTypeQName()&&"sku"===t?{link:"https://www.wickedgoodcupcakes.com"}:this.base()}}))}),define("css!sample/styles/sample",[],function(){}),define(function(e){e("./gadgets/sample-products-list/sample-products-list.js"),e("./gadgets/sample-random-product-dashlet/sample-random-product-dashlet.js"),e("./gadgets/tay-project-dashboard/tay-content-instances.js"),e("./gadgets/tay-project-dashboard/tay-entity-types.js"),e("./actions/sample/create-sample-space.js"),e("./fields/sample-city-picker.js"),e("./fields/sample-content-picker.js"),e("./gadgets/sample-product-document-properties/sample-product-document-properties.js"),e("css!./styles/sample.css")}),!function(e){"use strict";"function"==typeof define&&define.amd?define([],e):e()}(function(){"use strict";var e,t,n,i=0,o="91",r=window.location.search.indexOf("debug=true")>-1,a=window.location.search.indexOf("dev=true")>-1;window.jQuery?n=window.jQuery:window.$&&window.$.fn&&window.$.fn.jquery&&(n=window.$);var s=function(e){if(null==e||"object"!=typeof e||e.tagName)return e;var t=e.constructor();for(var n in e)t[n]=s(e[n]);return t},c=function(e,t){return t=s(t),t.kind=e,JSON.stringify(t)},d=function(e){return JSON.parse(e)},l=function(){try{var e=document.createElement("style");e.type="text/css",e.innerHTML=".cloudinary-thumbnails { list-style: none; margin: 10px 0; padding: 0 } .cloudinary-thumbnails:after { clear: both; display: block; content: '' } .cloudinary-thumbnail { float: left; padding: 0; margin: 0 15px 5px 0; display: none } .cloudinary-thumbnail.active { display: block } .cloudinary-thumbnail img { border: 1px solid #01304d; border-radius: 2px; -moz-border-radius: 2px; -webkit-border-radius: 2px } .cloudinary-thumbnail span { font-size: 11px; font-family: Arial, sans-serif; line-height: 14px; border: 1px solid #aaa; max-width: 150px; word-wrap: break-word; word-break: break-all; display: inline-block; padding: 3px; max-height: 60px; overflow: hidden; color: #999; } .cloudinary-delete { vertical-align: top; font-size: 13px; text-decoration: none; padding-left: 2px; line-height: 8px; font-family: Arial, sans-serif; color: #01304d }.cloudinary-button { color: #fefeff; text-decoration: none; font-size: 18px; line-height: 28px; height: 28x; border-radius: 6px; -moz-border-radius: 6px; -webkit-border-radius: 6px; font-weight: normal; text-decoration: none;   display: inline-block; padding: 4px 30px 4px 30px; background: #0284cf; font-family: Helvetica, Arial, sans-serif;   background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAyODRjZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMjU5OGIiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);   background: -moz-linear-gradient(top,  #0284cf 0%, #02598b 100%);   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#0284cf), color-stop(100%,#02598b));   background: -webkit-linear-gradient(top,  #0284cf 0%,#02598b 100%);   background: -o-linear-gradient(top,  #0284cf 0%,#02598b 100%);   background: -ms-linear-gradient(top,  #0284cf 0%,#02598b 100%);   background: linear-gradient(to bottom,  #0284cf 0%,#02598b 100%);   filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0284cf', endColorstr='#02598b',GradientType=0 ); }.cloudinary-button:hover { background: #02598b;   background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAyNTk4YiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMjg0Y2YiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);   background: -moz-linear-gradient(top,  #02598b 0%, #0284cf 100%);   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#02598b), color-stop(100%,#0284cf));   background: -webkit-linear-gradient(top,  #02598b 0%,#0284cf 100%);   background: -o-linear-gradient(top,  #02598b 0%,#0284cf 100%);   background: -ms-linear-gradient(top,  #02598b 0%,#0284cf 100%);   background: linear-gradient(to bottom,  #02598b 0%,#0284cf 100%);   filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#02598b', endColorstr='#0284cf',GradientType=0 ); ";var t=document.getElementsByTagName("head")[0];t&&t.appendChild(e)}catch(e){console&&console.log&&console.log("Cannot initialize stylesheet: "+e)}};l();var u=function(l,u){var p,f,m,g=i++,y=s(l),h=y.element,b=!!y.inline_container,v=!1,w=!1;delete y.element,y.widget_id=g;var x=function(){y.cloud_name||(y.cloud_name=e),!y.api_key&&t&&(y.api_key=t),y.secure=y.secure||"https:"===document.location.protocol,y.requireSignature=!!y.upload_signature,function(){for(var e=!!y.upload_signature,t=e?["api_key","cloud_name"]:["cloud_name","upload_preset"],n=0;n<t.length;n++)if(!y[t[n]])throw"Missing required option: "+t[n]}(),p=window.document.createElement("iframe");var n=y.secure?"https:":"http:",i=[];r&&i.push("debug=true"),a&&i.push("dev=true"),b&&i.push("inline=true"),y.cloud_name&&i.push("cloud_name="+y.cloud_name),m=y.widgetHost||n+"//widget.cloudinary.com/n/"+y.cloud_name+"/"+o+"/index.html",p.setAttribute("src",m+"?"+i.join("&")),p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("frameborder","no"),p.style.display="none",p.style.width="100%",p.style.border="none",b?p.style.height="520px":(p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.height="100%",p.style.background="transparent",p.style.zIndex="1000000"),I(p,"load",function(){_("init",y),w=!0,v&&(p.style.display="block",p.focus(),_("open",{}))}),I(window,"message",C);var s=function(){if(!b)return document.body;if("string"==typeof y.inline_container){var e=document.querySelector(y.inline_container);if(e)return e;throw"Element Not Found ("+y.inline_container+")"}return y.inline_container},c=s();c.appendChild(p),b||I(window.document,"keyup",function(e){27==e.keyCode&&T()}),h&&k()},k=function(){h.style.display="none";var e=window.document.createElement("a");e.setAttribute("class",y.button_class||"cloudinary-button"),e.setAttribute("href","#"),e.innerHTML=y.button_caption||"Upload image",h.parentNode.insertBefore(e,h.previousSibling),I(e,"click",function(e){return j(),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1}),!y.field_name&&h.getAttribute("name")&&""!=h.getAttribute("name")&&(y.field_name=h.getAttribute("name"))},I=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},j=function(){v=!0,f=window.document.body.style.overflow,b||(window.document.body.style.overflow="hidden"),w&&(p.style.display="block",p.focus(),_("open",{}))},C=function(e){if(e.origin.match(/cloudinary\.com/)){var t;try{t=d(e.data)}catch(e){return}if(t.widget_id==g)switch(t.kind){case"fileuploadsuccess":n&&n(h||y.form||document).trigger("cloudinarywidgetfileuploadsuccess",[t.result]);break;case"success":y.keep_widget_open||b||T(),S(t.result),u&&u(null,t.result),n&&n(h||y.form||document).trigger("cloudinarywidgetsuccess",[t.result]);break;case"fileuploadfail":b&&u&&u(t),n&&n(h||y.form||document).trigger("cloudinarywidgetfileuploadfail",[t.result]);break;case"error":y.keep_widget_open||b||T(),u&&u(t),n&&n(h||y.form||document).trigger("cloudinarywidgeterror",t);break;case"closed":T();var i={message:"User closed widget"};u&&u(i),n&&n(h||y.form||document).trigger("cloudinarywidgetclosed",i);break;case"get-signature":var o=y.upload_signature;if("string"==typeof o)_("signature",{signature:o});else if("function"==typeof o){var r=s(t);delete r.widget_id,delete r.kind,delete r.file,o(function(e){_("signature",{signature:e})},r)}}}},_=function(e,t){p.contentWindow.postMessage(c(e,t),m)},T=function(){p.style.display="none",window.document.body.style.overflow=f,v=!1},S=function(e){if(n){var t=y.form;!t&&t!==!1&&h&&(t=n(h).closest("form"));var i=y.field_name||"image";if(t&&t.length&&(n(t).find('input[name="'+i+'"]').remove(),n.each(e,function(e,o){var r=[o.resource_type,o.type,o.path].join("/")+"#"+o.signature;n("<input />").addClass("cloudinary-hidden-field").attr({type:"hidden",name:i,"data-cloudinary-public-id":o.public_id}).val(r).data("cloudinary",o).appendTo(t)})),y.thumbnails!==!1&&(y.thumbnails||h)){var o=n("<ul></ul>").addClass("cloudinary-thumbnails");n.each(e,function(e,t){var i=n("<li></li>").addClass("cloudinary-thumbnail").data("cloudinary",t);t.thumbnail_url?i.append(n("<img />").attr("src",t.thumbnail_url)):i.append(n("<span></span>").text(t.public_id)),t.delete_token&&i.append(n("<a></a>").addClass("cloudinary-delete").attr("href","#").text("Ã—")),i.find("img").on("load",function(){i.addClass("active")}),o.append(i)}),o.find("li").length>0&&(y.thumbnails?n(y.thumbnails).append(o):n(h).after(o)),o.find(".cloudinary-delete").click(function(e){e.preventDefault();var o=n(this).parents(".cloudinary-thumbnail").data("cloudinary"),r=M(o.delete_token);if(r&&r.always(function(e){200==e.status&&n(h||y.form||document).trigger("cloudinarywidgetdeleted",o)}),n(this).parents(".cloudinary-thumbnail").hide("slow"),t){var a=n(t).find('input[name="'+i+'"][data-cloudinary-public-id="'+o.public_id+'"].cloudinary-hidden-field');n(t).find('input[name="'+i+'"].cloudinary-hidden-field').length>1?n(a).remove():n(a).attr("data-cloudinary-public-id","").val("").data("cloudinary",null)}})}}},M=function(e,t){if(n){t=t||{};var i=t.url;i||(i="https://api.cloudinary.com/v1_1/"+y.cloud_name+"/delete_by_token");var o=n.support.xhrFileUpload?"json":"iframe json";return n.ajax({url:i,method:"POST",data:{token:e},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:o})}};return x(),{open:function(){return j(),this},close:T}};window.cloudinary=window.cloudinary||{},window.cloudinary.openUploadWidget=function(e,t){return u(e,t).open()},window.cloudinary.createUploadWidget=function(e,t){return u(e,t)},window.cloudinary.applyUploadWidget=function(e,t,n){var i=s(t);return i.element=e,u(i,n)},window.cloudinary.setCloudName=function(t){e=t},window.cloudinary.setAPIKey=function(e){t=e},n&&(n.fn.cloudinary_upload_widget=function(e,t){window.cloudinary.applyUploadWidget(n(this)[0],e,t)})}),function(e){var t=document,n="appendChild",i="styleSheet",o=t.createElement("style");o.type="text/css",t.getElementsByTagName("head")[0][n](o),o[i]?o[i].cssText=e:o[n](t.createTextNode(e))}(".dashlet.sample-dashlet .dashlet-body > div\n{\n    padding: 10px;\n}\n"),require(["sample/index"]);